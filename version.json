{
    "vava_core": "1.1.1",
    "economy": "1.3.0",
    "creator": "1.0.1",
    "garage": "1.1.1",
    "inventory": "2.0.1",
    "status": "1.0.1",
    "chat": "1.0.0",
    "jobs": "1.0.0",
    "keys": "1.1.0",
    "concess": "1.0.0",
    "jobshop": "1.0.0",
    "persist": "1.0.0",
    "sit": "1.0.0",
    "loadingscreen": "1.0.0",
    "testbench": "1.0.3",
    "police": "1.0.0",
    "player_manager": "1.0.0",
    "ems": "1.0.0",
    "updates": [
        {
            "module": "vava_core",
            "version": "1.1.1",
            "description": "Fix du système de permissions ACE (txAdmin)",
            "releaseDate": "2026-01-11",
            "queries": [],
            "files": [
                "shared/classes.lua",
                "shared/enums.lua",
                "server/commands.lua",
                "server/permissions_debug.lua",
                "server.cfg",
                "fxmanifest.lua",
                "GUIDE_PERMISSIONS.md",
                "FIX_PERMISSIONS_SESSION_11JAN.md"
            ],
            "needsRestart": true,
            "changelog": [
                "FIX: Correction IsAdmin() pour utiliser Config.Permissions.AceLevels au lieu de Config.Admin.Groups",
                "FIX: Correction GetPermissionLevel() pour vérifier les ACE de txAdmin",
                "FIX: Ajout niveaux HELPER (0) et DEVELOPER (4) dans AdminLevel enum",
                "FIX: Correction niveau OWNER (4 → 5) dans AdminLevel enum",
                "ADD: Commande /vava_getid pour récupérer ses identifiants facilement",
                "ADD: Outil de diagnostic /vava_debug_perms (affiche config complète)",
                "ADD: Commande /vava_test_ace pour tester un ACE spécifique",
                "ADD: Commande /vava_list_aces pour lister tous les ACE disponibles",
                "ADD: Commande /vava_perm_help pour aide rapide",
                "ADD: Fichier permissions_debug.lua avec 4 outils de diagnostic",
                "UPDATE: Amélioration documentation server.cfg pour ACE principals",
                "UPDATE: Ajout instructions claires avec exemples dans server.cfg",
                "DOC: Création GUIDE_PERMISSIONS.md (400+ lignes, 12 sections)",
                "DOC: Documentation complète des niveaux 0-5 et permissions",
                "DOC: Ajout 3 étapes de configuration rapide",
                "DOC: Ajout section dépannage avec 3 cas courants",
                "DOC: Ajout checklist de configuration",
                "DOC: Création rapport FIX_PERMISSIONS_SESSION_11JAN.md"
            ]
        },
        {
            "module": "vava_core",
            "version": "1.1.0",
            "description": "Corrections critiques et ajout modules manquants",
            "releaseDate": "2026-01-10",
            "queries": [
                "CREATE TABLE IF NOT EXISTS `hospital_blood_stock` (`id` INT AUTO_INCREMENT PRIMARY KEY, `blood_type` VARCHAR(5) NOT NULL UNIQUE, `units` INT NOT NULL DEFAULT 0, `last_update` INT NOT NULL, INDEX `idx_blood_type` (`blood_type`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;",
                "CREATE TABLE IF NOT EXISTS `shared_vehicle_keys` (`id` INT NOT NULL AUTO_INCREMENT, `plate` VARCHAR(15) NOT NULL, `owner_citizenid` VARCHAR(50) NOT NULL, `target_citizenid` VARCHAR(50) NOT NULL, `mode` ENUM('perm','temp') NOT NULL DEFAULT 'perm', `created_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, `expires_at` TIMESTAMP NULL DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `unique_share` (`plate`, `owner_citizenid`, `target_citizenid`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;",
                "CREATE TABLE IF NOT EXISTS `police_fines` (`id` INT AUTO_INCREMENT PRIMARY KEY, `officer_id` VARCHAR(50) NOT NULL, `citizen_id` VARCHAR(50) NOT NULL, `amount` INT NOT NULL, `reason` TEXT NOT NULL, `paid` TINYINT(1) DEFAULT 0, `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;",
                "CREATE TABLE IF NOT EXISTS `player_characters` (`id` INT AUTO_INCREMENT PRIMARY KEY, `citizenid` VARCHAR(50) UNIQUE NOT NULL, `license` VARCHAR(100) NOT NULL, `firstname` VARCHAR(50) NOT NULL, `lastname` VARCHAR(50) NOT NULL, `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;"
            ],
            "files": [
                "shared/events.lua",
                "shared/state.lua",
                "fxmanifest.lua",
                "modules/ems/sql/ems_system.sql",
                "modules/keys/sql/keys_system.sql",
                "modules/police/sql/police_system.sql",
                "modules/player_manager/sql/player_manager.sql",
                "modules/player_manager/server/main.lua",
                "modules/player_manager/server/stats.lua",
                "modules/player_manager/server/history.lua",
                "modules/player_manager/server/licenses.lua",
                "server.cfg",
                "vava_core.yaml"
            ],
            "needsRestart": true,
            "changelog": [
                "FIX: Correction ordre chargement shared/utils.lua avant shared/events.lua",
                "FIX: Retrait caractères UTF-8 problématiques dans shared/state.lua",
                "FIX: Correction require 'config' en PlayerManagerConfig dans player_manager",
                "ADD: Ajout module vAvA_police avec tables SQL complètes",
                "ADD: Ajout module vAvA_player_manager avec système multi-personnages",
                "ADD: Ajout module vAvA_ems avec tables SQL (hospital_blood_stock, etc.)",
                "ADD: Création fichiers SQL manquants (ems_system.sql, keys_system.sql)",
                "UPDATE: Mise à jour server.cfg avec 18 modules",
                "UPDATE: Mise à jour vava_core.yaml avec installations SQL complètes",
                "UPDATE: Correction chemins SQL dans yaml (après move_path)",
                "DOC: Ajout guide complet création modules (1800+ lignes)",
                "DOC: Ajout script PowerShell installation SQL automatique",
                "DOC: Ajout guide installation rapide des tables manquantes"
            ]
        },
        {
            "module": "economy",
            "version": "1.2.0",
            "description": "Ajout du système de monitoring et rapports économiques",
            "releaseDate": "2026-01-09",
            "queries": [
                "CREATE TABLE IF NOT EXISTS `economy_reports` (`id` INT(11) NOT NULL AUTO_INCREMENT, `report_type` ENUM('hourly', 'daily', 'weekly', 'monthly', 'custom') NOT NULL DEFAULT 'hourly', `report_data` JSON NOT NULL, `generated_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, `generated_by` VARCHAR(100) DEFAULT 'system', PRIMARY KEY (`id`), KEY `report_type` (`report_type`), KEY `generated_at` (`generated_at`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;",
                "ALTER TABLE `economy_logs` MODIFY COLUMN `source` ENUM('auto', 'admin', 'system', 'monitoring') NOT NULL DEFAULT 'auto';"
            ],
            "files": [
                "modules/economy/server/auto_adjust.lua",
                "modules/economy/server/main.lua",
                "modules/economy/config/economy.lua"
            ],
            "needsRestart": true,
            "changelog": [
                "Ajout de la fonction StartMonitoring()",
                "Ajout de la détection d'anomalies",
                "Génération de rapports horaires",
                "Alertes automatiques pour les admins"
            ]
        },
        {
            "module": "economy",
            "version": "1.3.0",
            "description": "Correction des erreurs et amélioration de la compatibilité avec les ressources séparées",
            "releaseDate": "2026-01-09",
            "queries": [],
            "files": [
                "modules/economy/server/auto_adjust.lua",
                "modules/economy/server/main.lua"
            ],
            "needsRestart": true,
            "changelog": [
                "Ajout de la récupération de vCore via export",
                "Correction des callbacks RegisterServerCallback",
                "Amélioration de la compatibilité multi-ressources",
                "Correction des erreurs d'initialisation Locales"
            ]
        },
        {
            "module": "creator",
            "version": "1.0.1",
            "description": "Correction du chargement des fichiers shared",
            "releaseDate": "2026-01-10",
            "queries": [],
            "files": [
                "modules/creator/fxmanifest.lua"
            ],
            "needsRestart": true,
            "changelog": [
                "Remplacement du wildcard @vAvA_core/shared/*.lua par des fichiers explicites",
                "Correction des erreurs de chargement au démarrage"
            ]
        },
        {
            "module": "garage",
            "version": "1.1.1",
            "description": "Correction du chargement des fichiers shared",
            "releaseDate": "2026-01-10",
            "queries": [],
            "files": [
                "modules/garage/fxmanifest.lua"
            ],
            "needsRestart": true,
            "changelog": [
                "Remplacement du wildcard @vAvA_core/shared/*.lua par des fichiers explicites",
                "Correction des erreurs de chargement au démarrage"
            ]
        },
        {
            "module": "status",
            "version": "1.0.1",
            "description": "Correction du chargement des fichiers locales",
            "releaseDate": "2026-01-10",
            "queries": [],
            "files": [
                "modules/status/fxmanifest.lua"
            ],
            "needsRestart": true,
            "changelog": [
                "Suppression de la référence au fichier locale.lua inexistant",
                "Correction des erreurs de chargement au démarrage"
            ]
        },
        {
            "module": "inventory",
            "version": "2.0.1",
            "description": "Correction des avertissements de fichiers manquants",
            "releaseDate": "2026-01-10",
            "queries": [],
            "files": [
                "modules/inventory/fxmanifest.lua"
            ],
            "needsRestart": true,
            "changelog": [
                "Retrait de la référence aux images PNG optionnelles",
                "Suppression des avertissements au démarrage"
            ]
        },
        {
            "module": "testbench",
            "version": "1.0.1",
            "description": "Correction de la détection automatique des tests et scan des modules",
            "releaseDate": "2026-01-10",
            "queries": [],
            "files": [
                "modules/testbench/server/main.lua",
                "modules/testbench/config/config.lua"
            ],
            "needsRestart": true,
            "changelog": [
                "Détection automatique des tests dans plusieurs emplacements",
                "Correction de la liste des modules avec préfixes vAvA_",
                "Ajout de logs de debug pour le chargement des tests",
                "Support des tests dans modules/*/tests/"
            ]
        },
        {
            "module": "testbench",
            "version": "1.0.2",
            "description": "Correction du système de logs et ajout de logs détaillés pour les tests",
            "releaseDate": "2026-01-10",
            "queries": [],
            "files": [
                "modules/testbench/server/main.lua"
            ],
            "needsRestart": true,
            "changelog": [
                "Ajout de la fonction AddLog() pour enregistrer les logs",
                "Rotation automatique des logs (max 1000 entrées)",
                "Ajout de la fonction LogCritical()",
                "Logs détaillés pour chaque test exécuté",
                "Correction de testbench_logs qui affichait des logs vides"
            ]
        },
        {
            "module": "testbench",
            "version": "1.0.3",
            "description": "Correction complète du scan des modules et détection des tests",
            "releaseDate": "2026-01-10",
            "queries": [],
            "files": [
                "modules/testbench/server/main.lua"
            ],
            "needsRestart": true,
            "changelog": [
                "Ajout de hasTests pour afficher ✓/✗ dans le scan",
                "Correction de testCount vs testsCount",
                "Stockage des tests dans TestbenchState.tests",
                "Extraction du nom court des modules (vAvA_xxx → xxx)",
                "Correction des chemins de recherche des fichiers de tests"
            ]
        }
    ],
    "metadata": {
        "lastUpdate": "2026-01-10T15:00:00Z",
        "minFrameworkVersion": "1.0.0",
        "repository": "https://github.com/Nicolasbriet/vAvA_core",
        "branch": "main"
    }
}
