<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vAvA JobShop</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div id="app" class="hidden">
        <!-- Menu Boutique Client -->
        <div id="shop-panel" class="panel hidden">
            <div class="panel-header">
                <div class="header-left">
                    <i class="fas fa-shopping-cart"></i>
                    <h2 id="shop-title">Boutique</h2>
                </div>
                <button class="close-btn" onclick="closeNUI()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="panel-content">
                <div class="items-grid" id="shop-items">
                    <!-- Items dynamiques -->
                </div>
            </div>
        </div>

        <!-- Menu Boss -->
        <div id="boss-panel" class="panel hidden">
            <div class="panel-header">
                <div class="header-left">
                    <i class="fas fa-user-tie"></i>
                    <h2 id="boss-title">Gestion</h2>
                </div>
                <button class="close-btn" onclick="closeNUI()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="panel-content">
                <!-- Caisse -->
                <div class="section">
                    <h3><i class="fas fa-cash-register"></i> Caisse de la boutique</h3>
                    <div class="cash-box">
                        <span class="cash-amount">$<span id="shop-cash">0</span></span>
                        <div class="cash-actions">
                            <input type="number" id="withdraw-amount" placeholder="Montant" min="1">
                            <button class="btn btn-success" onclick="withdrawCash()">
                                <i class="fas fa-money-bill-wave"></i> Retirer
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Articles -->
                <div class="section">
                    <h3><i class="fas fa-tags"></i> Articles en vente</h3>
                    <div class="items-list" id="boss-items">
                        <!-- Items dynamiques -->
                    </div>
                </div>

                <!-- Ajouter un article -->
                <div class="section">
                    <h3><i class="fas fa-plus-circle"></i> Ajouter un article</h3>
                    <div class="add-item-form">
                        <input type="text" id="new-item-name" placeholder="Nom de l'item">
                        <input type="number" id="new-item-price" placeholder="Prix" min="0">
                        <input type="number" id="new-item-stock" placeholder="Stock" min="0">
                        <button class="btn btn-primary" onclick="addNewItem()">
                            <i class="fas fa-plus"></i> Ajouter
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Menu Admin -->
        <div id="admin-panel" class="panel hidden">
            <div class="panel-header">
                <div class="header-left">
                    <i class="fas fa-cogs"></i>
                    <h2>Administration des Boutiques</h2>
                </div>
                <button class="close-btn" onclick="closeNUI()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="panel-content">
                <div class="admin-options">
                    <div class="admin-option" onclick="showCreateForm()">
                        <i class="fas fa-plus-circle"></i>
                        <div>
                            <h4>Créer une boutique</h4>
                            <p>Créer une nouvelle boutique pour un job</p>
                        </div>
                    </div>
                    <div class="admin-option" onclick="listShops()">
                        <i class="fas fa-list"></i>
                        <div>
                            <h4>Lister les boutiques</h4>
                            <p>Voir toutes les boutiques dans le chat</p>
                        </div>
                    </div>
                </div>

                <!-- Formulaire création -->
                <div id="create-form" class="hidden">
                    <h3>Créer une boutique</h3>
                    <div class="form-group">
                        <label><i class="fas fa-store"></i> Nom de la boutique</label>
                        <input type="text" id="create-name" placeholder="Ex: Boulangerie Central">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-briefcase"></i> Nom du job</label>
                        <input type="text" id="create-job" placeholder="Ex: baker">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-crown"></i> Grade patron (0-10)</label>
                        <input type="number" id="create-grade" placeholder="3" min="0" max="10">
                    </div>
                    <div class="form-buttons">
                        <button class="btn btn-primary" onclick="createShop()">
                            <i class="fas fa-check"></i> Créer
                        </button>
                        <button class="btn btn-secondary" onclick="hideCreateForm()">
                            <i class="fas fa-times"></i> Annuler
                        </button>
                    </div>
                </div>

                <!-- Liste des boutiques pour suppression -->
                <div id="shops-list" class="hidden">
                    <h3>Boutiques existantes</h3>
                    <div id="shops-container">
                        <!-- Boutiques dynamiques -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Menu Stock (Employé) -->
        <div id="stock-panel" class="panel hidden">
            <div class="panel-header">
                <div class="header-left">
                    <i class="fas fa-box"></i>
                    <h2 id="stock-title">Approvisionner</h2>
                </div>
                <button class="close-btn" onclick="closeNUI()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="panel-content">
                <div class="items-list" id="stock-items">
                    <!-- Items dynamiques -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de quantité -->
    <div id="quantity-modal" class="modal hidden">
        <div class="modal-content">
            <h3 id="modal-title">Quantité</h3>
            <input type="number" id="modal-quantity" value="1" min="1">
            <div class="modal-buttons">
                <button class="btn btn-primary" onclick="confirmQuantity()">Confirmer</button>
                <button class="btn btn-secondary" onclick="closeModal()">Annuler</button>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
